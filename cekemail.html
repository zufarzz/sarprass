<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Cek Email | Sarana Prasarana</title>
    <link rel="icon" href="img/logo-sekolah.svg" />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css"
    />
    <link rel="stylesheet" href="css/cekemail.css" />
  </head>
  <body>
    <div class="container">
      <div class="wrapper">
        <img src="img/cek-email.svg" alt="" />
        <h1>Cek Email Anda</h1>
        <h6>Kami telah mengirimkan kode ke email Anda..</h6>
        <form id="form" action="">
          <div class="auth-pin-wrap">
            <input type="text" class="code-input" required />
            <input type="text" class="code-input" required />
            <input type="text" class="code-input" required />
            <input type="text" class="code-input" required />
          </div>
          <div class="btn-wrap"><br>
            <button type="submit">KIRIM</button>
          </div>
        </form>
        <div class="tambahan" style="font-size: 15px;">
            <h5>Tidak Mendapat Kode? <span style="color: #7065DB;">Kirim Ulang</span></h5>
        </div>
      </div>
    </div>
    <script>
        const inputElement = [...document.querySelectorAll('input.code-input')];
        inputElement.forEach((elem, index)=>{
            elem.addEventListener('keydown', (e)=>{
                if(e.keyCode === 8 && e.target.value === ''){
                    inputElement[Math.max(0, index - 1)].focus()
                }
        });

        elem.addEventListener('input', (e)=>{
            const [first, ...rest] = e.target.value;
            e.target.value = first ?? ''
            const lastInputBox = index === inputElement.length - 1;
            const insertedContent = first !== undefined;
            if(insertedContent && !lastInputBox){
                inputElement[index + 1].focus();
                inputElement[index + 1].value = rest.join('')
                inputElement[index + 1].dispatchEvent(new Event('input'))
            }
         })
        })

    </script>
  </body>
</html>
